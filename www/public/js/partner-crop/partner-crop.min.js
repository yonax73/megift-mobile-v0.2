var PartnerCrop=function(){function n(t){this.takePictureBtn=document.getElementById("take-picture-pc-btn");this.importPictureBtn=document.getElementById("import-picture-pc-btn");n.PartnerCropImg=document.getElementById("picture-crop-img");n.PartnerCropImg.src=t}return n.prototype.init=function(){var t=$(".img-container > img");t.cropper({autoCropArea:.65,highlight:!1,dragCrop:!1,movable:!1,resizable:!1,minContainerWidth:235,minContainerHeight:125,minCropBoxWidth:235,minCropBoxHeight:125});$(document.body).on("click","[data-method]",function(){var i=$(this).data(),r,u;if(i.method){if(i=$.extend({},i),typeof i.target!="undefined"&&(r=$(i.target),typeof i.option=="undefined"))try{i.option=JSON.parse(r.val())}catch(e){console.log(e.message)}if(u=t.cropper(i.method,i.option),i.method==="getCroppedCanvas"&&n.saveChangesActionFn)try{n.saveChangesActionFn(u)}catch(f){$("#modal-loader").closeModal();alert(f.message);console.log(f)}}}).on("keydown",function(n){switch(n.which){case 37:n.preventDefault();t.cropper("move",-1,0);break;case 38:n.preventDefault();t.cropper("move",0,-1);break;case 39:n.preventDefault();t.cropper("move",1,0);break;case 40:n.preventDefault();t.cropper("move",0,1)}})},n.prototype.saveChangesAction=function(t){n.saveChangesActionFn=t},n.prototype.takePictureAction=function(n){var t=this;this.takePictureBtn.onclick=function(){t.getPicture(n)}},n.prototype.importPictureAction=function(n){var t=this;this.importPictureBtn.onclick=function(){t.getPicture(n)}},n.prototype.getPicture=function(t){try{$("#modal-loader").openModal();n.disabled(!0);navigator.camera.getPicture(this.onSuccess,this.onError,t)}catch(i){$("#modal-loader").closeModal();n.disabled(!1);alert(i.message);console.log(i)}},n.prototype.onSuccess=function(t){n.refresh(t)},n.prototype.onError=function(t){alert("failed because: "+t);$("#modal-loader").closeModal();n.disabled(!1)},n.refresh=function(t){try{var r=$(".img-container > img");r.one("built.cropper",function(){$("#modal-loader").closeModal();n.disabled(!1)}).cropper("reset",!0).cropper("replace",t)}catch(i){n.disabled(!1);alert(i.message);console.log(i)}},n.disabled=function(n){document.getElementById("zoom-plus-pc-btn").disabled=n;document.getElementById("zoom-minus-pc-btn").disabled=n;document.getElementById("rotate-pc-btn").disabled=n;document.getElementById("save-changes-pc-btn").disabled=n;document.getElementById("import-picture-pc-btn").disabled=n;document.getElementById("take-picture-pc-btn").disabled=n},n}();
//# sourceMappingURL=partner-crop.min.js.map
